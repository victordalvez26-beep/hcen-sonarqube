{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\CaroH\\\\Documents\\\\fing\\\\TSE\\\\lab\\\\test-frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = 'http://127.0.0.1:8080';\nconst PERIFERICO_BASE = `${API_BASE}/hcen-web/api`;\nconst RNDC_BASE = `${API_BASE}/rndc/api`;\nfunction App() {\n  _s();\n  const [token, setToken] = useState(localStorage.getItem('token') || '');\n  const [nickname, setNickname] = useState('admin_c1');\n  const [password, setPassword] = useState('password123');\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState(null);\n\n  // Documento\n  const [documentoId, setDocumentoId] = useState('');\n  const [documentoIdPaciente, setDocumentoIdPaciente] = useState('12345678');\n  const [contenido, setContenido] = useState('Paciente presenta sintomas de gripe. Diagnostico: Gripe estacional. Tratamiento: reposo, hidratacion y medicamentos sintomaticos.');\n  const [titulo, setTitulo] = useState('Consulta Medica - Gripe');\n  const [especialidad, setEspecialidad] = useState('MEDICINA_GENERAL');\n\n  // Búsqueda\n  const [ciBusqueda, setCiBusqueda] = useState('12345678');\n  const [documentosEncontrados, setDocumentosEncontrados] = useState([]);\n  const [documentoSeleccionado, setDocumentoSeleccionado] = useState(null);\n\n  // Solicitudes\n  const [solicitudId, setSolicitudId] = useState('');\n  const [solicitudes, setSolicitudes] = useState([]);\n  useEffect(() => {\n    if (token) {\n      localStorage.setItem('token', token);\n    } else {\n      localStorage.removeItem('token');\n    }\n  }, [token]);\n  const handleLogin = async () => {\n    setLoading(true);\n    setResult(null);\n    try {\n      const response = await fetch(`${PERIFERICO_BASE}/auth/login`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          nickname,\n          password\n        })\n      });\n      let data;\n      try {\n        data = await response.json();\n      } catch (e) {\n        // Si no se puede parsear como JSON, leer como texto\n        const text = await response.text();\n        setResult({\n          success: false,\n          message: `Error ${response.status}: ${text || response.statusText}`,\n          error: `Status: ${response.status}, Body: ${text}`\n        });\n        setLoading(false);\n        return;\n      }\n      if (response.ok && data.token) {\n        setToken(data.token);\n        setResult({\n          success: true,\n          message: 'Login exitoso',\n          data\n        });\n      } else {\n        setResult({\n          success: false,\n          message: data.error || `Error en login (${response.status})`,\n          data\n        });\n      }\n    } catch (error) {\n      setResult({\n        success: false,\n        message: `Error de conexión: ${error.message}`,\n        error: error.toString()\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleLogout = () => {\n    setToken('');\n    setResult(null);\n    setDocumentosEncontrados([]);\n    setDocumentoSeleccionado(null);\n  };\n  const handleCrearDocumento = async () => {\n    if (!token) {\n      setResult({\n        success: false,\n        message: 'Debes iniciar sesión primero'\n      });\n      return;\n    }\n    setLoading(true);\n    setResult(null);\n    try {\n      const body = {\n        documentoIdPaciente,\n        contenido,\n        titulo,\n        especialidad,\n        formato: 'text/plain',\n        autor: nickname,\n        fechaCreacion: new Date().toISOString(),\n        breakingTheGlass: false\n      };\n      const response = await fetch(`${PERIFERICO_BASE}/documentos/completo`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(body)\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setDocumentoId(data.documentoId || '');\n        setResult({\n          success: true,\n          message: 'Documento creado exitosamente',\n          data\n        });\n      } else {\n        setResult({\n          success: false,\n          message: data.error || 'Error al crear documento',\n          data\n        });\n      }\n    } catch (error) {\n      setResult({\n        success: false,\n        message: error.message,\n        error: error.toString()\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleBuscarPorCI = async () => {\n    if (!token) {\n      setResult({\n        success: false,\n        message: 'Debes iniciar sesión primero'\n      });\n      return;\n    }\n    setLoading(true);\n    setResult(null);\n    try {\n      const response = await fetch(`${RNDC_BASE}/rndc/documentos/paciente/${ciBusqueda}`, {\n        method: 'GET',\n        headers: {\n          'X-Profesional-Id': nickname\n        }\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setDocumentosEncontrados(Array.isArray(data) ? data : []);\n        setResult({\n          success: true,\n          message: `Encontrados ${Array.isArray(data) ? data.length : 0} documentos`,\n          data\n        });\n      } else {\n        setResult({\n          success: false,\n          message: data.error || 'Error al buscar documentos',\n          data\n        });\n      }\n    } catch (error) {\n      setResult({\n        success: false,\n        message: error.message,\n        error: error.toString()\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleObtenerDocumento = async docId => {\n    if (!token) {\n      setResult({\n        success: false,\n        message: 'Debes iniciar sesión primero'\n      });\n      return;\n    }\n    setLoading(true);\n    setResult(null);\n    try {\n      const response = await fetch(`${RNDC_BASE}/rndc/documentos/${docId}`, {\n        method: 'GET',\n        headers: {\n          'X-Profesional-Id': nickname\n        }\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setDocumentoSeleccionado(data);\n        setResult({\n          success: true,\n          message: 'Documento obtenido exitosamente',\n          data\n        });\n      } else {\n        setResult({\n          success: false,\n          message: data.error || 'Error al obtener documento',\n          data\n        });\n      }\n    } catch (error) {\n      setResult({\n        success: false,\n        message: error.message,\n        error: error.toString()\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDescargarDocumento = async docId => {\n    if (!token) {\n      setResult({\n        success: false,\n        message: 'Debes iniciar sesión primero'\n      });\n      return;\n    }\n    setLoading(true);\n    setResult(null);\n    try {\n      const response = await fetch(`${RNDC_BASE}/rndc/documentos/${docId}/descargar`, {\n        method: 'GET',\n        headers: {\n          'X-Profesional-Id': nickname\n        }\n      });\n      if (response.ok) {\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `documento-${docId}.pdf`;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n        setResult({\n          success: true,\n          message: 'Documento descargado exitosamente'\n        });\n      } else {\n        const data = await response.json();\n        setResult({\n          success: false,\n          message: data.error || 'Error al descargar documento',\n          data\n        });\n      }\n    } catch (error) {\n      setResult({\n        success: false,\n        message: error.message,\n        error: error.toString()\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDescargarContenido = async mongoId => {\n    if (!token) {\n      setResult({\n        success: false,\n        message: 'Debes iniciar sesión primero'\n      });\n      return;\n    }\n    setLoading(true);\n    setResult(null);\n    try {\n      const response = await fetch(`${PERIFERICO_BASE}/documentos/${mongoId}/contenido`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setResult({\n          success: true,\n          message: 'Contenido obtenido exitosamente',\n          data\n        });\n      } else {\n        const data = await response.json();\n        setResult({\n          success: false,\n          message: data.error || 'Error al obtener contenido',\n          data\n        });\n      }\n    } catch (error) {\n      setResult({\n        success: false,\n        message: error.message,\n        error: error.toString()\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSolicitarAcceso = async () => {\n    if (!token) {\n      setResult({\n        success: false,\n        message: 'Debes iniciar sesión primero'\n      });\n      return;\n    }\n    setLoading(true);\n    setResult(null);\n    try {\n      const body = {\n        documentoIdPaciente,\n        tipoSolicitud: documentoId ? 'DOCUMENTO_ESPECIFICO' : 'HISTORIA_CLINICA_COMPLETA',\n        documentoId: documentoId || null,\n        motivo: 'Prueba de acceso desde frontend'\n      };\n      const response = await fetch(`${PERIFERICO_BASE}/documentos/solicitar-acceso`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(body)\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setSolicitudId(data.id || data.solicitudId || '');\n        setResult({\n          success: true,\n          message: 'Solicitud creada exitosamente',\n          data\n        });\n      } else {\n        setResult({\n          success: false,\n          message: data.error || 'Error al crear solicitud',\n          data\n        });\n      }\n    } catch (error) {\n      setResult({\n        success: false,\n        message: error.message,\n        error: error.toString()\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleAprobarSolicitud = async solicitudId => {\n    if (!token) {\n      setResult({\n        success: false,\n        message: 'Debes iniciar sesión primero'\n      });\n      return;\n    }\n    setLoading(true);\n    setResult(null);\n    try {\n      const response = await fetch(`${PERIFERICO_BASE}/documentos/solicitudes/${solicitudId}/aprobar`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setResult({\n          success: true,\n          message: 'Solicitud aprobada exitosamente',\n          data\n        });\n      } else {\n        setResult({\n          success: false,\n          message: data.error || 'Error al aprobar solicitud',\n          data\n        });\n      }\n    } catch (error) {\n      setResult({\n        success: false,\n        message: error.message,\n        error: error.toString()\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleRechazarSolicitud = async solicitudId => {\n    if (!token) {\n      setResult({\n        success: false,\n        message: 'Debes iniciar sesión primero'\n      });\n      return;\n    }\n    setLoading(true);\n    setResult(null);\n    try {\n      const response = await fetch(`${PERIFERICO_BASE}/documentos/solicitudes/${solicitudId}/rechazar`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setResult({\n          success: true,\n          message: 'Solicitud rechazada exitosamente',\n          data\n        });\n      } else {\n        setResult({\n          success: false,\n          message: data.error || 'Error al rechazar solicitud',\n          data\n        });\n      }\n    } catch (error) {\n      setResult({\n        success: false,\n        message: error.message,\n        error: error.toString()\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83D\\uDD2C HCEN Test Frontend\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Interfaz de pruebas para endpoints HCEN\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '10px'\n        },\n        children: [\"Estado:\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `status-badge ${token ? 'authenticated' : 'unauthenticated'}`,\n          children: token ? 'Autenticado' : 'No autenticado'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), token && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"token-display\",\n          children: [\"Token: \", token.substring(0, 30), \"...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDD10 Autenticaci\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Nickname:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: nickname,\n            onChange: e => setNickname(e.target.value),\n            placeholder: \"admin_c1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            placeholder: \"password123\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: handleLogin,\n          disabled: loading,\n          children: [\"Login \", loading && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"loading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 31\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), token && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: handleLogout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDCC4 Crear Documento Cl\\xEDnico\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"CI del Paciente:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: documentoIdPaciente,\n            onChange: e => setDocumentoIdPaciente(e.target.value),\n            placeholder: \"12345678\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"T\\xEDtulo:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: titulo,\n            onChange: e => setTitulo(e.target.value),\n            placeholder: \"Consulta Medica - Gripe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Especialidad:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: especialidad,\n            onChange: e => setEspecialidad(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"MEDICINA_GENERAL\",\n              children: \"Medicina General\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"PEDIATRIA\",\n              children: \"Pediatr\\xEDa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"CARDIOLOGIA\",\n              children: \"Cardiolog\\xEDa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"DERMATOLOGIA\",\n              children: \"Dermatolog\\xEDa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Contenido:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: contenido,\n          onChange: e => setContenido(e.target.value),\n          placeholder: \"Contenido del documento...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-group\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success\",\n          onClick: handleCrearDocumento,\n          disabled: loading || !token,\n          children: [\"Crear Documento \", loading && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"loading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 9\n      }, this), documentoId && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result success\",\n        style: {\n          marginTop: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Documento ID:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 13\n        }, this), \" \", documentoId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDD0D B\\xFAsqueda de Documentos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"CI del Paciente:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: ciBusqueda,\n            onChange: e => setCiBusqueda(e.target.value),\n            placeholder: \"12345678\",\n            style: {\n              flex: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleBuscarPorCI,\n            disabled: loading || !token,\n            children: [\"Buscar \", loading && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"loading\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 34\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 9\n      }, this), documentosEncontrados.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Documentos Encontrados (\", documentosEncontrados.length, \"):\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 13\n        }, this), documentosEncontrados.map((doc, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '10px',\n            margin: '10px 0',\n            border: '1px solid #ddd',\n            borderRadius: '4px',\n            background: '#f9f9f9'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 21\n              }, this), \" \", doc.codDocum || doc.id, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 67\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Paciente:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 21\n              }, this), \" \", doc.codIDPaciente, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 68\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"T\\xEDtulo:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 21\n              }, this), \" \", doc.tipoDocumento || doc.titulo || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"button-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                onClick: () => handleObtenerDocumento(doc.codDocum || doc.id),\n                disabled: loading,\n                style: {\n                  fontSize: '12px',\n                  padding: '5px 10px'\n                },\n                children: \"Ver\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-success\",\n                onClick: () => handleDescargarDocumento(doc.codDocum || doc.id),\n                disabled: loading,\n                style: {\n                  fontSize: '12px',\n                  padding: '5px 10px'\n                },\n                children: \"Descargar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 21\n              }, this), (doc.uriDocumento || doc.urlAcceso) && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-secondary\",\n                onClick: () => {\n                  const url = doc.uriDocumento || doc.urlAcceso;\n                  const mongoId = url.split('/').pop();\n                  handleDescargarContenido(mongoId);\n                },\n                disabled: loading,\n                style: {\n                  fontSize: '12px',\n                  padding: '5px 10px'\n                },\n                children: \"Contenido\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDCCB Solicitudes de Acceso\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"CI del Paciente:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: documentoIdPaciente,\n            onChange: e => setDocumentoIdPaciente(e.target.value),\n            placeholder: \"12345678\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Documento ID (opcional, dejar vac\\xEDo para historia completa):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: documentoId,\n            onChange: e => setDocumentoId(e.target.value),\n            placeholder: \"UUID del documento\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-group\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: handleSolicitarAcceso,\n          disabled: loading || !token,\n          children: [\"Solicitar Acceso \", loading && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"loading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 9\n      }, this), solicitudId && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '15px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success\",\n            onClick: () => handleAprobarSolicitud(solicitudId),\n            disabled: loading,\n            children: [\"Aprobar Solicitud \", solicitudId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            onClick: () => handleRechazarSolicitud(solicitudId),\n            disabled: loading,\n            children: [\"Rechazar Solicitud \", solicitudId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 7\n    }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `result ${result.success ? 'success' : 'error'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: [result.success ? '✅' : '❌', \" \", result.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 11\n      }, this), result.data && /*#__PURE__*/_jsxDEV(\"pre\", {\n        children: JSON.stringify(result.data, null, 2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 13\n      }, this), result.error && /*#__PURE__*/_jsxDEV(\"pre\", {\n        children: result.error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 595,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 364,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"nxjG6irevt2onGPnsGBFCCyQ7p4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","API_BASE","PERIFERICO_BASE","RNDC_BASE","App","_s","token","setToken","localStorage","getItem","nickname","setNickname","password","setPassword","loading","setLoading","result","setResult","documentoId","setDocumentoId","documentoIdPaciente","setDocumentoIdPaciente","contenido","setContenido","titulo","setTitulo","especialidad","setEspecialidad","ciBusqueda","setCiBusqueda","documentosEncontrados","setDocumentosEncontrados","documentoSeleccionado","setDocumentoSeleccionado","solicitudId","setSolicitudId","solicitudes","setSolicitudes","setItem","removeItem","handleLogin","response","fetch","method","headers","body","JSON","stringify","data","json","e","text","success","message","status","statusText","error","ok","toString","handleLogout","handleCrearDocumento","formato","autor","fechaCreacion","Date","toISOString","breakingTheGlass","handleBuscarPorCI","Array","isArray","length","handleObtenerDocumento","docId","handleDescargarDocumento","blob","url","window","URL","createObjectURL","a","document","createElement","href","download","appendChild","click","revokeObjectURL","removeChild","handleDescargarContenido","mongoId","handleSolicitarAcceso","tipoSolicitud","motivo","id","handleAprobarSolicitud","handleRechazarSolicitud","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","substring","type","value","onChange","target","placeholder","onClick","disabled","display","gap","flex","map","doc","index","padding","margin","border","borderRadius","background","justifyContent","alignItems","codDocum","codIDPaciente","tipoDocumento","fontSize","uriDocumento","urlAcceso","split","pop","_c","$RefreshReg$"],"sources":["C:/Users/CaroH/Documents/fing/TSE/lab/test-frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './index.css';\r\n\r\nconst API_BASE = 'http://127.0.0.1:8080';\r\nconst PERIFERICO_BASE = `${API_BASE}/hcen-web/api`;\r\nconst RNDC_BASE = `${API_BASE}/rndc/api`;\r\n\r\nfunction App() {\r\n  const [token, setToken] = useState(localStorage.getItem('token') || '');\r\n  const [nickname, setNickname] = useState('admin_c1');\r\n  const [password, setPassword] = useState('password123');\r\n  const [loading, setLoading] = useState(false);\r\n  const [result, setResult] = useState(null);\r\n\r\n  // Documento\r\n  const [documentoId, setDocumentoId] = useState('');\r\n  const [documentoIdPaciente, setDocumentoIdPaciente] = useState('12345678');\r\n  const [contenido, setContenido] = useState('Paciente presenta sintomas de gripe. Diagnostico: Gripe estacional. Tratamiento: reposo, hidratacion y medicamentos sintomaticos.');\r\n  const [titulo, setTitulo] = useState('Consulta Medica - Gripe');\r\n  const [especialidad, setEspecialidad] = useState('MEDICINA_GENERAL');\r\n\r\n  // Búsqueda\r\n  const [ciBusqueda, setCiBusqueda] = useState('12345678');\r\n  const [documentosEncontrados, setDocumentosEncontrados] = useState([]);\r\n  const [documentoSeleccionado, setDocumentoSeleccionado] = useState(null);\r\n\r\n  // Solicitudes\r\n  const [solicitudId, setSolicitudId] = useState('');\r\n  const [solicitudes, setSolicitudes] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      localStorage.setItem('token', token);\r\n    } else {\r\n      localStorage.removeItem('token');\r\n    }\r\n  }, [token]);\r\n\r\n  const handleLogin = async () => {\r\n    setLoading(true);\r\n    setResult(null);\r\n    try {\r\n      const response = await fetch(`${PERIFERICO_BASE}/auth/login`, {\r\n        method: 'POST',\r\n        headers: { \r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json'\r\n        },\r\n        body: JSON.stringify({ nickname, password })\r\n      });\r\n\r\n      let data;\r\n      try {\r\n        data = await response.json();\r\n      } catch (e) {\r\n        // Si no se puede parsear como JSON, leer como texto\r\n        const text = await response.text();\r\n        setResult({ \r\n          success: false, \r\n          message: `Error ${response.status}: ${text || response.statusText}`,\r\n          error: `Status: ${response.status}, Body: ${text}`\r\n        });\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      if (response.ok && data.token) {\r\n        setToken(data.token);\r\n        setResult({ success: true, message: 'Login exitoso', data });\r\n      } else {\r\n        setResult({ \r\n          success: false, \r\n          message: data.error || `Error en login (${response.status})`, \r\n          data \r\n        });\r\n      }\r\n    } catch (error) {\r\n      setResult({ \r\n        success: false, \r\n        message: `Error de conexión: ${error.message}`, \r\n        error: error.toString() \r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setToken('');\r\n    setResult(null);\r\n    setDocumentosEncontrados([]);\r\n    setDocumentoSeleccionado(null);\r\n  };\r\n\r\n  const handleCrearDocumento = async () => {\r\n    if (!token) {\r\n      setResult({ success: false, message: 'Debes iniciar sesión primero' });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setResult(null);\r\n    try {\r\n      const body = {\r\n        documentoIdPaciente,\r\n        contenido,\r\n        titulo,\r\n        especialidad,\r\n        formato: 'text/plain',\r\n        autor: nickname,\r\n        fechaCreacion: new Date().toISOString(),\r\n        breakingTheGlass: false\r\n      };\r\n\r\n      const response = await fetch(`${PERIFERICO_BASE}/documentos/completo`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(body)\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (response.ok) {\r\n        setDocumentoId(data.documentoId || '');\r\n        setResult({ success: true, message: 'Documento creado exitosamente', data });\r\n      } else {\r\n        setResult({ success: false, message: data.error || 'Error al crear documento', data });\r\n      }\r\n    } catch (error) {\r\n      setResult({ success: false, message: error.message, error: error.toString() });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleBuscarPorCI = async () => {\r\n    if (!token) {\r\n      setResult({ success: false, message: 'Debes iniciar sesión primero' });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setResult(null);\r\n    try {\r\n      const response = await fetch(`${RNDC_BASE}/rndc/documentos/paciente/${ciBusqueda}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'X-Profesional-Id': nickname\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (response.ok) {\r\n        setDocumentosEncontrados(Array.isArray(data) ? data : []);\r\n        setResult({ success: true, message: `Encontrados ${Array.isArray(data) ? data.length : 0} documentos`, data });\r\n      } else {\r\n        setResult({ success: false, message: data.error || 'Error al buscar documentos', data });\r\n      }\r\n    } catch (error) {\r\n      setResult({ success: false, message: error.message, error: error.toString() });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleObtenerDocumento = async (docId) => {\r\n    if (!token) {\r\n      setResult({ success: false, message: 'Debes iniciar sesión primero' });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setResult(null);\r\n    try {\r\n      const response = await fetch(`${RNDC_BASE}/rndc/documentos/${docId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'X-Profesional-Id': nickname\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (response.ok) {\r\n        setDocumentoSeleccionado(data);\r\n        setResult({ success: true, message: 'Documento obtenido exitosamente', data });\r\n      } else {\r\n        setResult({ success: false, message: data.error || 'Error al obtener documento', data });\r\n      }\r\n    } catch (error) {\r\n      setResult({ success: false, message: error.message, error: error.toString() });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDescargarDocumento = async (docId) => {\r\n    if (!token) {\r\n      setResult({ success: false, message: 'Debes iniciar sesión primero' });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setResult(null);\r\n    try {\r\n      const response = await fetch(`${RNDC_BASE}/rndc/documentos/${docId}/descargar`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'X-Profesional-Id': nickname\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `documento-${docId}.pdf`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n        setResult({ success: true, message: 'Documento descargado exitosamente' });\r\n      } else {\r\n        const data = await response.json();\r\n        setResult({ success: false, message: data.error || 'Error al descargar documento', data });\r\n      }\r\n    } catch (error) {\r\n      setResult({ success: false, message: error.message, error: error.toString() });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDescargarContenido = async (mongoId) => {\r\n    if (!token) {\r\n      setResult({ success: false, message: 'Debes iniciar sesión primero' });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setResult(null);\r\n    try {\r\n      const response = await fetch(`${PERIFERICO_BASE}/documentos/${mongoId}/contenido`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setResult({ success: true, message: 'Contenido obtenido exitosamente', data });\r\n      } else {\r\n        const data = await response.json();\r\n        setResult({ success: false, message: data.error || 'Error al obtener contenido', data });\r\n      }\r\n    } catch (error) {\r\n      setResult({ success: false, message: error.message, error: error.toString() });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSolicitarAcceso = async () => {\r\n    if (!token) {\r\n      setResult({ success: false, message: 'Debes iniciar sesión primero' });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setResult(null);\r\n    try {\r\n      const body = {\r\n        documentoIdPaciente,\r\n        tipoSolicitud: documentoId ? 'DOCUMENTO_ESPECIFICO' : 'HISTORIA_CLINICA_COMPLETA',\r\n        documentoId: documentoId || null,\r\n        motivo: 'Prueba de acceso desde frontend'\r\n      };\r\n\r\n      const response = await fetch(`${PERIFERICO_BASE}/documentos/solicitar-acceso`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(body)\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (response.ok) {\r\n        setSolicitudId(data.id || data.solicitudId || '');\r\n        setResult({ success: true, message: 'Solicitud creada exitosamente', data });\r\n      } else {\r\n        setResult({ success: false, message: data.error || 'Error al crear solicitud', data });\r\n      }\r\n    } catch (error) {\r\n      setResult({ success: false, message: error.message, error: error.toString() });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAprobarSolicitud = async (solicitudId) => {\r\n    if (!token) {\r\n      setResult({ success: false, message: 'Debes iniciar sesión primero' });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setResult(null);\r\n    try {\r\n      const response = await fetch(`${PERIFERICO_BASE}/documentos/solicitudes/${solicitudId}/aprobar`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (response.ok) {\r\n        setResult({ success: true, message: 'Solicitud aprobada exitosamente', data });\r\n      } else {\r\n        setResult({ success: false, message: data.error || 'Error al aprobar solicitud', data });\r\n      }\r\n    } catch (error) {\r\n      setResult({ success: false, message: error.message, error: error.toString() });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRechazarSolicitud = async (solicitudId) => {\r\n    if (!token) {\r\n      setResult({ success: false, message: 'Debes iniciar sesión primero' });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setResult(null);\r\n    try {\r\n      const response = await fetch(`${PERIFERICO_BASE}/documentos/solicitudes/${solicitudId}/rechazar`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (response.ok) {\r\n        setResult({ success: true, message: 'Solicitud rechazada exitosamente', data });\r\n      } else {\r\n        setResult({ success: false, message: data.error || 'Error al rechazar solicitud', data });\r\n      }\r\n    } catch (error) {\r\n      setResult({ success: false, message: error.message, error: error.toString() });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"header\">\r\n        <h1>🔬 HCEN Test Frontend</h1>\r\n        <p>Interfaz de pruebas para endpoints HCEN</p>\r\n        <div style={{ marginTop: '10px' }}>\r\n          Estado: \r\n          <span className={`status-badge ${token ? 'authenticated' : 'unauthenticated'}`}>\r\n            {token ? 'Autenticado' : 'No autenticado'}\r\n          </span>\r\n          {token && (\r\n            <div className=\"token-display\">\r\n              Token: {token.substring(0, 30)}...\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Login Section */}\r\n      <div className=\"login-section\">\r\n        <h2>🔐 Autenticación</h2>\r\n        <div className=\"grid\">\r\n          <div className=\"form-group\">\r\n            <label>Nickname:</label>\r\n            <input\r\n              type=\"text\"\r\n              value={nickname}\r\n              onChange={(e) => setNickname(e.target.value)}\r\n              placeholder=\"admin_c1\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Password:</label>\r\n            <input\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              placeholder=\"password123\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"button-group\">\r\n          <button className=\"btn btn-primary\" onClick={handleLogin} disabled={loading}>\r\n            Login {loading && <span className=\"loading\"></span>}\r\n          </button>\r\n          {token && (\r\n            <button className=\"btn btn-secondary\" onClick={handleLogout}>\r\n              Logout\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Crear Documento */}\r\n      <div className=\"section\">\r\n        <h2>📄 Crear Documento Clínico</h2>\r\n        <div className=\"grid\">\r\n          <div className=\"form-group\">\r\n            <label>CI del Paciente:</label>\r\n            <input\r\n              type=\"text\"\r\n              value={documentoIdPaciente}\r\n              onChange={(e) => setDocumentoIdPaciente(e.target.value)}\r\n              placeholder=\"12345678\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Título:</label>\r\n            <input\r\n              type=\"text\"\r\n              value={titulo}\r\n              onChange={(e) => setTitulo(e.target.value)}\r\n              placeholder=\"Consulta Medica - Gripe\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Especialidad:</label>\r\n            <select value={especialidad} onChange={(e) => setEspecialidad(e.target.value)}>\r\n              <option value=\"MEDICINA_GENERAL\">Medicina General</option>\r\n              <option value=\"PEDIATRIA\">Pediatría</option>\r\n              <option value=\"CARDIOLOGIA\">Cardiología</option>\r\n              <option value=\"DERMATOLOGIA\">Dermatología</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Contenido:</label>\r\n          <textarea\r\n            value={contenido}\r\n            onChange={(e) => setContenido(e.target.value)}\r\n            placeholder=\"Contenido del documento...\"\r\n          />\r\n        </div>\r\n        <div className=\"button-group\">\r\n          <button className=\"btn btn-success\" onClick={handleCrearDocumento} disabled={loading || !token}>\r\n            Crear Documento {loading && <span className=\"loading\"></span>}\r\n          </button>\r\n        </div>\r\n        {documentoId && (\r\n          <div className=\"result success\" style={{ marginTop: '10px' }}>\r\n            <strong>Documento ID:</strong> {documentoId}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Búsqueda */}\r\n      <div className=\"section\">\r\n        <h2>🔍 Búsqueda de Documentos</h2>\r\n        <div className=\"form-group\">\r\n          <label>CI del Paciente:</label>\r\n          <div style={{ display: 'flex', gap: '10px' }}>\r\n            <input\r\n              type=\"text\"\r\n              value={ciBusqueda}\r\n              onChange={(e) => setCiBusqueda(e.target.value)}\r\n              placeholder=\"12345678\"\r\n              style={{ flex: 1 }}\r\n            />\r\n            <button className=\"btn btn-primary\" onClick={handleBuscarPorCI} disabled={loading || !token}>\r\n              Buscar {loading && <span className=\"loading\"></span>}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {documentosEncontrados.length > 0 && (\r\n          <div style={{ marginTop: '15px' }}>\r\n            <h3>Documentos Encontrados ({documentosEncontrados.length}):</h3>\r\n            {documentosEncontrados.map((doc, index) => (\r\n              <div key={index} style={{ \r\n                padding: '10px', \r\n                margin: '10px 0', \r\n                border: '1px solid #ddd', \r\n                borderRadius: '4px',\r\n                background: '#f9f9f9'\r\n              }}>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                  <div>\r\n                    <strong>ID:</strong> {doc.codDocum || doc.id} <br/>\r\n                    <strong>Paciente:</strong> {doc.codIDPaciente} <br/>\r\n                    <strong>Título:</strong> {doc.tipoDocumento || doc.titulo || 'N/A'}\r\n                  </div>\r\n                  <div className=\"button-group\">\r\n                    <button \r\n                      className=\"btn btn-primary\" \r\n                      onClick={() => handleObtenerDocumento(doc.codDocum || doc.id)}\r\n                      disabled={loading}\r\n                      style={{ fontSize: '12px', padding: '5px 10px' }}\r\n                    >\r\n                      Ver\r\n                    </button>\r\n                    <button \r\n                      className=\"btn btn-success\" \r\n                      onClick={() => handleDescargarDocumento(doc.codDocum || doc.id)}\r\n                      disabled={loading}\r\n                      style={{ fontSize: '12px', padding: '5px 10px' }}\r\n                    >\r\n                      Descargar\r\n                    </button>\r\n                    {(doc.uriDocumento || doc.urlAcceso) && (\r\n                      <button \r\n                        className=\"btn btn-secondary\" \r\n                        onClick={() => {\r\n                          const url = doc.uriDocumento || doc.urlAcceso;\r\n                          const mongoId = url.split('/').pop();\r\n                          handleDescargarContenido(mongoId);\r\n                        }}\r\n                        disabled={loading}\r\n                        style={{ fontSize: '12px', padding: '5px 10px' }}\r\n                      >\r\n                        Contenido\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Solicitudes de Acceso */}\r\n      <div className=\"section\">\r\n        <h2>📋 Solicitudes de Acceso</h2>\r\n        <div className=\"grid\">\r\n          <div className=\"form-group\">\r\n            <label>CI del Paciente:</label>\r\n            <input\r\n              type=\"text\"\r\n              value={documentoIdPaciente}\r\n              onChange={(e) => setDocumentoIdPaciente(e.target.value)}\r\n              placeholder=\"12345678\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Documento ID (opcional, dejar vacío para historia completa):</label>\r\n            <input\r\n              type=\"text\"\r\n              value={documentoId}\r\n              onChange={(e) => setDocumentoId(e.target.value)}\r\n              placeholder=\"UUID del documento\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"button-group\">\r\n          <button className=\"btn btn-primary\" onClick={handleSolicitarAcceso} disabled={loading || !token}>\r\n            Solicitar Acceso {loading && <span className=\"loading\"></span>}\r\n          </button>\r\n        </div>\r\n        {solicitudId && (\r\n          <div style={{ marginTop: '15px' }}>\r\n            <div className=\"button-group\">\r\n              <button \r\n                className=\"btn btn-success\" \r\n                onClick={() => handleAprobarSolicitud(solicitudId)}\r\n                disabled={loading}\r\n              >\r\n                Aprobar Solicitud {solicitudId}\r\n              </button>\r\n              <button \r\n                className=\"btn btn-danger\" \r\n                onClick={() => handleRechazarSolicitud(solicitudId)}\r\n                disabled={loading}\r\n              >\r\n                Rechazar Solicitud {solicitudId}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Resultado */}\r\n      {result && (\r\n        <div className={`result ${result.success ? 'success' : 'error'}`}>\r\n          <strong>{result.success ? '✅' : '❌'} {result.message}</strong>\r\n          {result.data && (\r\n            <pre>{JSON.stringify(result.data, null, 2)}</pre>\r\n          )}\r\n          {result.error && (\r\n            <pre>{result.error}</pre>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}