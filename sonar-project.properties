# SonarQube Project Configuration
# Latest version configuration (2024)

# Project identification
sonar.projectKey=victordalvez26-beep_hcen-sonarqube
sonar.organization=victordalvez26-beep

# Project metadata
sonar.projectName=hcen-sonarqube
sonar.projectVersion=1.0

# Source code configuration
# Path is relative to the sonar-project.properties file. Replace "\" by "/" on Windows.
sonar.sources=.

# Encoding of the source code. Default is default system encoding
sonar.sourceEncoding=UTF-8

# Java configuration
# Java source version (for static analysis)
sonar.java.source=17

# Java binaries - paths to compiled .class files
# Using wildcards to include Maven (target/classes) outputs
# Note: Gradle paths are excluded here since they may not exist if Gradle project doesn't compile
# If Gradle projects compile successfully, you can add: ,**/build/classes/java/main
sonar.java.binaries=**/target/classes

# Java test binaries
sonar.java.test.binaries=**/target/test-classes

# Libraries (JAR files) - SonarQube needs these for proper analysis
# Only Maven outputs (Gradle may not compile)
sonar.java.libraries=**/target/**/*.jar

# Exclusions - exclude build artifacts and non-source files (but NOT Java source files or compiled classes)
# IMPORTANT: We exclude target/* but NOT target/classes and target/test-classes (where binaries are)
# We exclude build/* but NOT build/classes (Gradle binaries)
sonar.exclusions=**/target/maven-archiver/**,**/target/maven-status/**,**/target/surefire-reports/**,**/target/site/**,**/target/*.war,**/target/*.ear,**/target/*.jar,**/target/generated-sources/**,**/target/generated-test-sources/**,**/node_modules/**,**/.git/**,**/build/intermediates/**,**/build/tmp/**,**/build/generated/**,**/build/kotlin/**,**/dist/**,**/*.apk,**/*.mp4,**/*.pack,**/release/**,**/docs/**,**/wildfly/**,**/docker-compose*.yml,**/Dockerfile,**/*.md,**/*.txt,**/*.sql,**/*.sh,**/*.bat,**/*.ps1,**/*.cli,**/*.json,**/*.properties,**/*.gradle,**/*.kts,**/gradle/**,**/keystore.jks,**/login.json,**/payload.json,**/post_nodo.json,**/tatus,**/utputFormat,**/verificar-metadata.sh,**/configure-wildfly.cli,**/set-activemq-ra.cli,**/undefine-ejb3-default-ra.cli,**/CONFIGURAR-DATASOURCE*.cli,**/CONFIGURAR-DATASOURCE*.bat,**/CONFIGURAR-DATASOURCE*.ps1,**/DIAGNOSTICO-LOGIN.bat,**/DIAGNOSTICO-LOGIN.ps1,**/LIBERAR-PUERTO.bat,**/LIBERAR-PUERTO.ps1,**/RECONSTRUIR-Y-REDESPLEGAR.bat,**/RECONSTRUIR-Y-REDESPLEGAR.ps1,**/REINICIAR-DOCKER*.bat,**/REINICIAR-DOCKER*.ps1,**/REINICIAR-DOCKER*.md,**/VERIFICAR-DATASOURCE.ps1,**/update-role*.ps1,**/update-role*.sql,**/build-and-docker.sh,**/test-soap.ps1,**/test_output.txt,**/wildfly_logs.txt,**/drivers/**,**/ear/**,**/init-wildfly-modules.sh,**/setup-modules.sh,**/start-wildfly.*,**/deploy.sh,**/dev-start.js,**/nodemon.json,**/nginx.conf,**/Dockerfile.dev,**/docker-compose*.yml,**/package*.json,**/public/**,**/react-scripts/**,**/nodo-periferico-frontend@*/**,**/gradlew*,**/gradle/**,**/keystore.jks,**/google-services.json,**/proguard-rules.pro,**/libs.versions.toml,**/settings.gradle.kts,**/build.gradle.kts,**/gradle.properties,**/ejemplos/**,**/test_output.txt,**/test-soap.ps1,**/db/**,**/docker-compose*.yml,**/Dockerfile,**/README*.md,**/Documentacion*.pdf,**/openapi*.yaml,**/Documentaci√≥n*.md

# Test exclusions
sonar.test.exclusions=**/test/**

# Coverage exclusions (if you have coverage reports)
sonar.coverage.exclusions=**/test/**,**/*Test.java,**/*Tests.java

# Duplicate code detection configuration
# Increase minimum tokens to reduce false positives
sonar.cpd.java.minimumTokens=150
# Exclude specific files/directories from duplicate code analysis
sonar.cpd.exclusions=**/test/**,**/*Test.java,**/*Tests.java,**/dto/**,**/model/**,**/entity/**

# Language-specific settings
# JavaScript/TypeScript
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.javascript.file.suffixes=.js,.jsx,.ts,.tsx

# Quality gate configuration
# Note: Quality gates are configured in SonarCloud/SonarQube server, not in project properties

# Analysis parameters
# Enable preview features for Java (if needed)
sonar.java.enablePreview=false

# Note: This configuration requires compilation of Java projects
# The workflow compiles projects before analysis. Projects that fail to compile are skipped (continue-on-error: true)
# Only successfully compiled projects will be analyzed

